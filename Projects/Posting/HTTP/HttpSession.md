# HttpSession은 어떻게 만들어지고 어떻게 유지될까?

## 서론

클라이언트와 서버는 Stateless인 HTTP 통신을 하게 되지만 로그인과 같이 접속을 했던 정보가 저장이 되어야 할 때가 있다. 이때 인증과 인가가 필요하게 된다.
인증은 클라이언트에서 보낸 정보에 담긴 아이디와 패스워드가 서버에서 저장하고 있는 정보와 일치할 때 인증이 발생하게 된다. 그 이후 로그인을 한 사용자는 자신의 계정으로 글을 쓰거나 물건을 살 때 무상태로 유지되게 되면 본인이 그 사용자임을 계속해서 인증을 해야한다. 이를 방지하기 위해 서버는 인증이 된 클라이언트에게 쿠키 또는 세션을 발급해주고 클라이언트는 이를 요청 정보에 담아 보냄으로써 지속적인 인증 없이 사용자 인증이 필요한 요청들을 할 수 있게 된다.

## 쿠키

쿠키는 서버에서 필요한 정보를 지정하면 클라이언트 측에서 저장을 하고 HTTP 요청마다 메세지에 담아 보내게 된다. 이로써 서버에 메모리 부담을 줄일 수 있지만 요청 시 쿠키 내부에 있는 보안정보들이 그대로 노출될 수 있어서 보안상의 문제가 있고, 쿠키의 크기가 클 경우 네트워크 부하가 커질 수 있다. 그리고 사용자가 보안상 쿠키 수집을 거절할 경우 사용이 불가능하며 웹 브라우저마다 지원형태가 달라 호환이 안된다.