커넥션에 데이터가 도착하면, 웹 서버는 네트워크 커넥션에서 그 데이터를 읽어 들이고 파싱하여 요청 메시지를 구성한다.
![[Pasted image 20240121175321.png]]
요청 메시지를 파싱할 때, 웹 서버는 다음과 같은 일을 한다.
- 요청 줄을 파싱하여 요청 메서드, 지정된 리소스 식별자(URI), 버전 번호를 찾는다.
	- 각 값은 스페이스 한 개로 분리되어 있으며, 요청줄은 캐리지 리턴 줄바꿈(CRLF) 문자열로 끝난다.
- 메시지 헤더들을 읽는다. 
	- 각 메시지 헤더는 CRLF로 끝난다.
- 헤더의 끝을 의미하는 CRLF로 끝나는 빈 줄을 찾아낸다. (존재한다면)
- 요청 본문이 있다면, 읽어 들인다(길이는 Content-Length 헤더로 정의된다).

요청 메시지를 파싱할 때, 웹 서버는 입력 데이터를 네트워크로부터 불규칙적으로 받는다.
네트워크 커넥션은 언제라도 무효화될 수 있다.
웹 서버는 파싱해서 이해하는 것이 가능한 수준의 분량을 확보할 때까지 데이터를 네트워크로부터 읽어서 메시지 일부분을 메모리에 임시로 저장해 둘 필요가 있다.

- [[메시지의 내부 표현]]
- [[커넥션 입출력 처리 아키텍처]]