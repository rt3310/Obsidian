## 클러스터

클러스터란, 간단하게 여러 개를 하나로 묶는다는 것을 뜻한다.

인덱스에서의 클러스터링은 값이 비슷한 것들을 묶어서 저장하는 형태로 구현되는데, 비슷한 값들을 동시에 조회하는 케이스가 많다라는 부분에서 착안되었다.

> MySQL에서는 InnoDB와 TokuDB 스토리지 엔진에서만 지원하고 나머지에서는 지원하지 않는다.

## 클러스터링 인덱스, 넌클러스터링 인덱스

그렇다면 클러스터링 인덱스(Clustering Index)는 무엇일까?

클러스터링 인덱스는 테이블의 **기본 키(Primary Key)** 에 대해서만 적용되는 내용이다.

이는 기본 키값이 비슷한 레코드끼리 묶어서 저장하는 것을 의미하며 **기본 키값에 의해 레코드의 저장 위치가 결정**되고 **기본 키값이 변경된다면 물리적인 저장 위치가 바뀌어야 된다**는 것을 말한다.

방금 말한 것에서 알 수 있듯이, **기본 키값으로 클러스터링 된 테이블은 기본 키에 의존도가 매우 크기 때문에 신중히 결정해야 한다**.

InnoDB와 같이 항상 클러스터링 인덱스로 저장되는 테이블은 기본 키값으로 저장 위치가 결정되기 때문에 기본 키값 기반의 검색이 매우 빠르지만 레코드의 저장이나 기본 키의 변경이 발생하게 된다면 클러스터링 인덱스를 사용하지 않는 다른 스토리지 엔진에 비해 상대적으로 느리다.

이 클러스터링 인덱스는 우리가 흔히 말하는 인덱스와는 조금 다른 개념이다.
우리가 흔히 말하는 인덱스는 **넌클러스터링 인덱스**로 **MySQL에서는 B+Tree**를 사용한다.

클러스터링 인덱스로 검색하는 것은 책의 페이지를 알고 있어 바로 해당 페이지를 여는 행동과 같다.
넌클러스터링 인덱스로 검색하는 것은 책의 목차에서 찾고자 하는 내용의 페이지를 찾고나서 해당 페이지로 이동하는 행동과 같다.

다음 그림을 통해 자세히 살펴보자.
![[Pasted image 20250113184620.png]]
