데이터베이스가 대용량으로 변화면서 우리는 항상 성능을 고민하게 된다. 이는 많은 데이터 중 우리가 원하는 데이터를 추출하는 것이 말처럼 쉽지만은 않기 때문이다.

이와 같은 현상은 데이터가 증가하면 증가할수록 더욱 심해질 것이다. 그래서 대용량의 데이터에서 우리가 원하는 적은 데이터를 추출하기위해 인덱스를 이용하게 된다.

보통 인덱스는 **결합 칼럼 인덱스**나 **단일 칼럼 인덱스**로 구성할 수 있다. 그렇다면 과연 우리는 어떤 형태의 인덱스를 선택해야 할까?

결론부터 말하자면 **대부분의 SQL에서는 결합 칼럼 인덱스를 선택하는 편이 좋다**. 이제부터 그 이유에 대해 알아보자.

## SQL의 성능은 처리 범위에 좌우된다

SQL의 성능은 무엇에 의해 좌우되는가? 여러 가지 요소에 의해 SQL의 성능은 좌우될 것이다. SQL의 성능은 다음의 세가지 항목에 의해 좌우된다.
- 처리 범위의 양
- 랜덤 액세스의 양
- 정렬의 양

그럼 처리 범위가 적다는 뜻은 무엇을 의미할까? 처리 범위가 적다는 말은 **액세스해야 하는 데이터가 적다**는 것을 의미한다.

액세스해야 하는 데이터가 적다면 우리는 인덱스를 이용하여 성능을 보장 받을 수 있을 것이다. 이는 마치 우리가 사전에서 GIRL이라는 단어를 찾을 때 사전의 인덱스를 이용하여 찾는 것과 같을 것이다.

다음 예제를 확인해 보자.
```sql
SELECT 카드번호, 사용액
FROM 거래내역
WHERE 거래일자 = '200803'
AND 사용_구분 = '정상'
```

여기에서 인덱스에 의한 처리 범위를 확인해 보자. 그렇다면 위의 SQL을 위해 생성할 수 있는 인덱스의 종류는 어떻게 되는가?
- 거래일자 인덱스
- 사용_구분 인덱스
- 거래일자 + 사용_구분 인덱스
- 사용_구분 + 거래일자 인덱스