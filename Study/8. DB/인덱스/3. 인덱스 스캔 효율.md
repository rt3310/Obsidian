## Index Skip Scan을 이용한 비효율 해소

고객번호, 판매월, 판매구분, 판매금액으로 일어진 `월별고객판매집계` 테이블이 있다고 가정한다.
이때 판매구분 + 판매월을 기준으로 조회해야 할 때 어떻게 개선할 수 있을지 확인해보자.

### Case 1
인덱스: 판매구분 + 판매월
```sql
select count(*)
from 월별고객판매집계 t
where 판매구분 = 'A'
and 판매월 between 200801 and 200812
```

실행계획을 수행해보면 ConsistencyRead(LogicalRead)는 281이 나온다.
만약 `판매월 + 판매구분`으로 인덱스가 잡혀있다면 어떻게 될까?

### Case 2
인덱스: 판매월 + 판매구분
```sql
select count(*)
from 월별고객판매집계 t
where 판매구분 = 'A'
and 판매월 between 200801 and 200812
```

Case 1과 동일하게 조건을 사용하게 되면 ConsistencyRead는 **3090**이 나온다.
즉, 전에 했던 것과 동일하게 between이 먼저 인덱스 조건이 되어 뒤의 판매구분이 전혀 인덱스 효과를 발휘하지 못하고 Case 1에 비해 굉장히 비효율적인 인덱스가 된다.