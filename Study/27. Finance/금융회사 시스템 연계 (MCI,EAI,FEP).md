![[Pasted image 20251013225121.png]]

## 내부 연계 : EAI와 MCI

금융 시스템은 체널계, 정보계, 계정계 등으로 구분되며, 각각에는 수많은 프로그램과 시스템들이 있다. 이들을 단순히 1:1로 연결한다면 어떻게 될까? 그 수가 많을 뿐만 아니라, 특정 거래로 집중된다면 영향도가 클 수 밖에 없다. 그렇다 보니 **이들을 효율적으로 연계하는 솔루션**이 필요하고, 그것이 바로 **내부연계 시스템인 EAI와 MCI**이다.

> [!summary]
> EAI와 MCI는 시스템 간 연계를 하는 솔루션이다.


### 시스템 간 데이터를 통합하는 EAI
EAI는 Enterprise Application Integration의 약자이다. EAI는 **대내 타 시스템 간의 연계를 지원하는 미들웨어 솔루션**이다.
고객의 데이터가 있으면, 이 데이터는 마케팅하는 데도 사용되어야 하며, 고객센터에서 정보를 확인하는 데도 쓰여야 한다. 그리고 고객에게 이벤트 등으로 지급한 금액이 있다면, ERP에도 연계되어서 지급액이 보여야 한다. 이렇게 **시스템 간의 데이터 변환, 프로토콜 변환, 데이터 품질 검사 등을 담당하는 것이 바로 EAI**이다. 즉, 다양한 시스템들이 "서로 말을 통하게 하는 것"이 목적이다. EAI는 표준 형식을 등록하는 역할을 한다.

> [!summary]
> 대내 시스템 간 통신은 EAI를 경유하여 통신한다.


### 시스템 간 메세지를 전달하는 MCI(MCA)
MCI(MCA)는 Multi Channel Architecture(Message Channel Agent)의 약자이다. 금융 기관의 ATM, 단말, 인터넷 뱅킹과 같은 고객 접점인 다양한 채널 솔루션으로 통합 제공하여, **채널과 업무시스템의 전문 매핑과 변환을 처리**한다.
A 시스템에서 B 시스템으로 이벤트를 전달해야 한다고 하면, MCI(MCA) 사용 시에 A 시스템은 MCI(MCA)로 이벤트를 보낸다. 그 뒤에 MCI(MCA)가 B 시스템으로 이벤트를 전달한다.
왜 굳이 이렇게 하나 싶을 수도 있겠지만, 앞에서 살펴본 것처럼 n(n-1)개의 연결을 만들지 않기 위함이기도 하고, 특정 거래가 밀리는 것을 MCI(MCA)를 통해 모니터링 유량 제어를 할 수도 있다.

> [!summary]
> 채널 시스템들은 MCI를 경유하여 업무시스템과 통신한다.

예를 들어, 은행에서 여신 업무와 수신 업무는 MCI(MCA)를 통해 연계된다. MCI와 MCA는 기업마다 다르게 부를 수 있지만 의미 차이는 크게 두지 않는다. MCA는 멀티 채널로 된 아키텍처를 지칭하며, MCI는 멀티 채널로 구성된 아키텍처의 통합을 말하나, 실무에서는 잘 구분해서 쓰지는 않는 것 같다(체감상 MCA를 더 많이 사용하는 것 같음). MCI/MCA는 **단말(창구), ATM, 인터넷 뱅킹 등 채널계의 다양한 채널에서 들어오는 요청의 전문 형식(표준)을 맞춰주는 역할**을 하며, 여러 채널의 허브의 역할을 하는 것이라고 이해하면 된다.

> [!info] 여신(loan)
> 금융 업무를 하는 회사(은행)에서 고객에게 돈을 빌려 주는 일을 의미한다.
> 일반적으로 제1금융권 및 제2금융권 등의 금융기관에서 돈을 빌려주는 것을 의미하나, 대부업체 등의 사금융 회사에서 돈을 빌려주는 것도 여신 업무에 해당한다.

> [!info] 수신
> 여신의 반대말로, 금융 업무를 하는 회사(은행)에서 고객의 돈을 맡아 예금으로서 예치하는 일을 의미한다. 주로 수신 업무를 하는 곳은 은행 등의 제1금융권이며, 캐피탈 등 제2금융권이나 사금융권인 대부업체에서는 돈을 빌려주는 여신 업무만 다루고 수신 업무는 하지 않는 것이 보통이다.

> [!info] 전문의 분류
> - 채널표준전문: 기업의 다양한 채널에서 사용하는 표준화된 전문
> - 내부표준전문: 기업의 전체 내부 시스템에서 사용하는 표준화된 전문
> - 외부전문: 대외기관과 인터페이스를 위해 약속된 전문으로, 기관마다 다름

**MCI는 채널표준전문과 내부표준전문과의 매핑**을 담당한다. 업무 시스템으로부터 받는 내부표준전문을 받아서, 채널 단에서 처리할 수 있는 채널 표준의 형태로 변환해주는 역할을 한다. 마찬가지로 채널표준전문을 내부표준전문의 형태로 변환하는 역할도 담당한다.


### EAI와 MCI는 뭐가 다를까
EAI는 대내 시스템 간, MCI(MCA)는 채널-업무시스템 간 통신을 담당한다.
![[Pasted image 20251013224323.png]]
다만 EAI가 과거에는 주로 대내 연계만 처리하였으나, 최근에는 대외 연계도 함께 처리하는 추세이다.
- 대내 시스템 간 통신은 EAI를 경유하여 통신한다.
- 채널 시스템들은 MCI를 경유하여 업무시스템과 통신한다.


## 외부 연계 FEP

### 대외 연계를 책임지는 FEP
금융권에서 돈의 흐름은 한 곳에서만 이루어지지 않는다. 특히 증권체계의 경우, 돈의 "처리"는 "거래소에서 담당"하고 "증권사"는 "처리결과를 받고" 해당 정보를 바탕으로 계좌를 관리하는 등 고객과 직접 마주보면서 증권 거래를 진행한다.
돈의 흐름이 한 곳에서만 이루어지지 않는다는 의미는 결국 증권사 한 곳에서만 돈이 움직이지 않는다는 것이다. 실질적으로 고객의 정보, 약속에 따라 돈이 움직이는 곳은 거래소이고, 거래소에서 체결한 결과를 최종적으로 증권사에 전송하면, 증권사는 그 체결 내용을 받아 고객 계좌에 반영하거나 기록하는 역할을 하게 된다. (고객 계좌를 관리하는 곳은 증권사이기 때문이다)

즉 은행에서 다른 은행에 돈을 보내거나, 신용점수를 조회하는 등의 다양한 업무를 진행할 때는 금융결제원이나 신용정보원 같은 대외 기관과의 협력이 필요하다. 이때 계정계와 대외기관이 통신할 때 사용하는 시스템이 대외연계 시스템이고, 이 시스템을 FEP이라고 부른다. FEP은 Front-End Processor의 약자로, 핵심 업무는 대외기관과의 메시지를 주고 받는 것이다.
증권사는 FEP를 통해 거래소로부터 받은 체결 정보를 빠르게 받고, 관련한 대응을 할 수 있다.

> [!summary]
> 대외기관과의 통신은 FEP을 경유하여 통신한다.

정리하면, **FEP는 내부표준전문과 외부전문과의 매핑을 담당**한다. 대외기관에서 외부전문이 들어오면 FEP는 이를 내부표준전문으로 변환하여 업무 시스템에서 처리할 수 있도록 도와준다.

대부분의 국내 금융사는 외부 업체의 FEP 솔루션을 사용하고 있다. 기존에 FEP에 익숙한 전문 인력만 FEP를 관리하고 유지보수 할 수 있었던 데 반해, FEP를 직접 구축한 토스뱅크의 사례가 있으니, 다음 영상을 한번 봐보면 좋다.
[토스 | SLASH 23 - 새로운 은행을 위한 Modern 대외 연계 시스템 구축기](https://www.youtube.com/watch?v=eS9tukmYBLI)
