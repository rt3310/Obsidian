Mark-Sweep이란 다양한 GC에서 사용되는 객체을 솎아내는 내부 알고리즘이다.

![[mark and sweep.png]]
가비지 컬렉션이 될 대상 객체를 식별(Mark)하고 제거(Sweep)하며 객체가 제거되어 파편화된 메모리 영역을 앞에서부터 채워나가는 작업(Compaction)을 수행하게 된다.

- **Mark 과정**: 먼저 **Root Space**로부터 그래프 순회를 통해 연결된 객체들을 찾아내어 각각 어떤 객체를 참조하고 있는지 찾아서 마킹한다.
- **Sweep 과정**: 참조하고 있지 않은 객체 즉 Unreachable 객체들을 Heap에서 제거한다.
- **Compact 과정**: Sweep 후에 분산된 객체들을 Heap의 시작 주소로 모아 메모리가 할당된 부분과 그렇지 않은 부분으로 압축한다. (가비지 컬렉터 종류에 따라 하지 않는 경우도 있다.)

![[mark and sweep gif.gif]]
이렇게 Mark And Sweep 방식을 사용하면 루트로부터 연결이 끊긴 순환 참조되는 객체들을 모두 지울 수 있다.